<!-- 添加搜索栏 -->
<view class="search-bar">
  <view class="search-input-container">
    <text class="search-icon">🔍</text>
    <input class="search-input" placeholder="搜索账目描述或类型" bindinput="onSearchInput" value="{{searchKeyword}}"/>
    <text class="clear-icon" bindtap="clearSearch" wx:if="{{searchKeyword}}">×</text>
  </view>
  <view class="filter-btn" bindtap="showFilterOptions">
    <text>筛选</text>
    <text class="filter-icon">▼</text>
  </view>
</view>

<!-- 添加筛选选项 -->
<view class="filter-panel" wx:if="{{showFilter}}">
  <view class="filter-section">
    <text class="filter-title">账目类型</text>
    <view class="filter-options">
      <view class="filter-option {{accountTypeFilter === 0 ? 'active' : ''}}" data-type="0" bindtap="selectAccountType">全部</view>
      <view class="filter-option {{accountTypeFilter === 1 ? 'active' : ''}}" data-type="1" bindtap="selectAccountType">收入</view>
      <view class="filter-option {{accountTypeFilter === 2 ? 'active' : ''}}" data-type="2" bindtap="selectAccountType">支出</view>
    </view>
  </view>
  
  <view class="filter-section">
    <text class="filter-title">日期范围</text>
    <view class="date-picker-row">
      <picker mode="date" bindchange="onStartDateChange" value="{{startDate}}">
        <view class="date-picker">
          <text>{{startDate || '开始日期'}}</text>
        </view>
      </picker>
      <text class="date-separator">至</text>
      <picker mode="date" bindchange="onEndDateChange" value="{{endDate}}">
        <view class="date-picker">
          <text>{{endDate || '结束日期'}}</text>
        </view>
      </picker>
    </view>
  </view>
  
  <view class="filter-buttons">
    <button class="filter-reset-btn" bindtap="resetFilters">重置</button>
    <button class="filter-apply-btn" bindtap="applyFilters">应用</button>
  </view>
</view> 