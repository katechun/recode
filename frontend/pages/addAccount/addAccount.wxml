<view class="container">
  <view class="header">
    <view class="tab-bar">
      <view class="tab-item {{accountType === 'income' ? 'active' : ''}}" bindtap="switchAccountType" data-type="income">
        <text>æ”¶å…¥</text>
      </view>
      <view class="tab-item {{accountType === 'expense' ? 'active' : ''}}" bindtap="switchAccountType" data-type="expense">
        <text>æ”¯å‡º</text>
      </view>
    </view>
  </view>
  
  <view class="form-container">
    <view class="form-item amount-container">
      <text class="currency-symbol">Â¥</text>
      <input class="form-input amount-input" type="digit" placeholder="0.00" value="{{amount}}" bindinput="bindAmountInput" focus="{{true}}" />
    </view>
    
    <view class="form-item">
      <text class="form-label">åº—é“º</text>
      <picker mode="selector" range="{{stores}}" range-key="name" bindchange="bindStoreChange">
        <view class="form-picker {{storeId ? '' : 'placeholder'}}">
          <text>{{selectedStoreName}}</text>
          <text class="picker-arrow">â–¼</text>
        </view>
      </picker>
    </view>
    
    <view class="form-item">
      <text class="form-label">ç±»å‹</text>
      <picker mode="selector" range="{{accountTypes}}" range-key="name" bindchange="bindTypeChange" disabled="{{accountTypes.length === 0}}">
        <view class="form-picker {{typeId ? '' : 'placeholder'}}">
          <text>{{selectedTypeName}}</text>
          <text class="picker-arrow">â–¼</text>
        </view>
      </picker>
      <view wx:if="{{accountTypes.length === 0}}" class="missing-type-tip">
        <text>æ²¡æœ‰{{accountType === 'income' ? 'æ”¶å…¥' : 'æ”¯å‡º'}}ç±»å‹ï¼Œè¯·å…ˆæ·»åŠ </text>
      </view>
    </view>
    
    <view class="form-item datetime-container">
      <text class="form-label">æ—¥æœŸæ—¶é—´</text>
      <view class="datetime-pickers">
        <picker mode="date" value="{{currentDate}}" bindchange="bindDateChange" class="date-picker">
          <view class="mini-picker">
            <text class="datetime-icon">ğŸ“…</text>
            <text>{{currentDate}}</text>
          </view>
        </picker>
        <picker mode="time" value="{{currentTime}}" bindchange="bindTimeChange" class="time-picker">
          <view class="mini-picker">
            <text class="datetime-icon">ğŸ•’</text>
            <text>{{currentTime}}</text>
          </view>
        </picker>
      </view>
    </view>
    
    <view class="form-item">
      <text class="form-label">å¤‡æ³¨</text>
      <input class="form-input" placeholder="è¯·è¾“å…¥å¤‡æ³¨ï¼ˆé€‰å¡«ï¼‰" value="{{remark}}" bindinput="bindRemarkInput" />
    </view>
    
    <view class="form-item recorder-info">
      <text class="form-label">è®°å½•äºº</text>
      <view class="recorder-value">
        <text>{{username || 'æœªçŸ¥ç”¨æˆ·'}}</text>
      </view>
    </view>
  </view>
  
  <view class="button-group">
    <button class="btn cancel-btn" bindtap="cancelAccount">å–æ¶ˆ</button>
    <button class="btn submit-btn" bindtap="saveAccount" disabled="{{!storeId || !typeId || !amount}}">ä¿å­˜</button>
  </view>

  <view class="tip-text" wx:if="{{defaultSettings}}">
    <text>æç¤º: å¯åœ¨é¦–é¡µè®¾ç½®é»˜è®¤åº—é“ºå’Œè´¦åŠ¡ç±»å‹</text>
  </view>
</view> 